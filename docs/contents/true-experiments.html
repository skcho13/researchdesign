<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sungkyun Cho">
<meta name="dcterms.date" content="2023-02-27">

<title>진실험 설계 (11장) – CHA Research Design</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-90c2643ab6f776117e85fdd60cb25922.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-12416e25eb8f50db99eb68558c7d1507.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">진실험 설계 (11장)</h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">CHA Research Design</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Notes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">5장 관심사와 연구주제</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/research-topics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">연구 주제</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/research-topics2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">가설 개발</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">6장 연구설계의 선택</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/select-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">연구 설계의 기본</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/select-design2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">연구 설계의 분류</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../contents/validity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7장 타당도의 문제</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/validity1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">통계적 결론 타당도</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/validity2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">내적 타당도</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/validity3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">구성 타당도</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents/validity4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">외적 타당도</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Communicate</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://docs.google.com/document/d/1ptwfOtcraTomjh_upF1HmPxfNPVnRShiAlzieFr0HHA/edit?usp=sharing" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ask</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#참여자-할당" id="toc-참여자-할당" class="nav-link active" data-scroll-target="#참여자-할당">참여자 할당</a></li>
  <li><a href="#집단-간-설계-between-group-design" id="toc-집단-간-설계-between-group-design" class="nav-link" data-scroll-target="#집단-간-설계-between-group-design">집단 간 설계 (between-group design)</a>
  <ul>
  <li><a href="#사후-검사-통제집단-설계" id="toc-사후-검사-통제집단-설계" class="nav-link" data-scroll-target="#사후-검사-통제집단-설계">사후 검사 통제집단 설계</a></li>
  <li><a href="#사전-사후-검사-통제집단-설계" id="toc-사전-사후-검사-통제집단-설계" class="nav-link" data-scroll-target="#사전-사후-검사-통제집단-설계">사전-사후 검사 통제집단 설계</a></li>
  <li><a href="#통제집단의-사용" id="toc-통제집단의-사용" class="nav-link" data-scroll-target="#통제집단의-사용">통제집단의 사용</a></li>
  <li><a href="#요인-설계-factorial-design" id="toc-요인-설계-factorial-design" class="nav-link" data-scroll-target="#요인-설계-factorial-design">요인 설계 (factorial design)</a></li>
  </ul></li>
  <li><a href="#참여자-내-설계-within-subject-design" id="toc-참여자-내-설계-within-subject-design" class="nav-link" data-scroll-target="#참여자-내-설계-within-subject-design">참여자 내 설계 (within-subject design)</a>
  <ul>
  <li><a href="#교차-설계-crossover-design" id="toc-교차-설계-crossover-design" class="nav-link" data-scroll-target="#교차-설계-crossover-design">교차 설계 (crossover design)</a></li>
  <li><a href="#순서-균형-교차-설계" id="toc-순서-균형-교차-설계" class="nav-link" data-scroll-target="#순서-균형-교차-설계">순서 균형 교차 설계</a></li>
  <li><a href="#강점과-한계점" id="toc-강점과-한계점" class="nav-link" data-scroll-target="#강점과-한계점">강점과 한계점</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">진실험 설계 (11장)</h1>
<p class="subtitle lead">상담연구방법론, by Heppner, P. P., Wampold, B. E., Owen, J., Thopso, M. N.</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sungkyun Cho </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 27, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>준실험 설계 (quasi-experimental design)와 대비하여 진실험 설계 (true experimental design)는<br>
가장 엄격한 실험 설계로 다음이 강조됨.</p>
<ul>
<li>실험통제</li>
<li>외재변수의 최소화</li>
<li>내적 타당도</li>
</ul>
<p>크게 2가지 설계로 나눌 수 있음.</p>
<ul>
<li>집단 간 설계 (between-group design)
<ul>
<li>참여자가 다른 처치에 무선 할당</li>
</ul></li>
<li>참여자 내 설계 (within-subject design / repeated measures design)
<ul>
<li>참여자가 모든 처치를 받음</li>
<li><strong>처지의 순서</strong>가 무선 할당</li>
</ul></li>
</ul>
<p>예를 들어, 참여자의 빈곤과 정의에 대한 공감을 높이는데 유용한 비디오 2개의 효과를 비교하는데,</p>
<ul>
<li>집단 간 설계: 참여자의 절반은 비디오 1을 시청 / 참여자의 절반은 비디오 2를 시청</li>
<li>참여자 내 설계:
<ul>
<li>모든 참여자는 비디오 1, 2를 모두 시청하는데,</li>
<li>참여자 절반은 비디오 1 <span class="math inline">\(\rightarrowtail\)</span> 비디오 2 시청</li>
<li>나머지 절반은 비디오 2 <span class="math inline">\(\rightarrowtail\)</span> 비디오 1 시청</li>
</ul></li>
</ul>
<section id="참여자-할당" class="level2">
<h2 class="anchored" data-anchor-id="참여자-할당">참여자 할당</h2>
<p>무선 배정하여 편향없는 (평균적) 동질적인 집단을 형성</p>
<ul>
<li>실제로는 무선 배정(random assignment)의 결과가 완전히 동질적인 집단을 형성하지는 않음</li>
<li>남녀의 비율이 동일하지 않을 수도…</li>
<li>중요한 요소의 경우 미리 비율이 동등하게 배정하는 매칭 기법을 사용하기도 함
<ul>
<li>예. 나이를 동등하게 만드려면: 20, 21, 22 … 살의 참여자들 각각 묶은 후 무작위로 집단에 배정.</li>
</ul></li>
<li>상담연구에서는 연구 시작시 전체 표본을 갖고 있지 않고, 순차적 할당을 해야하는 경우가 많음.
<ul>
<li>상담 센터에서 하루에 몇 명씩 상담을 하는 경우, 오는 순서대로 다른 집단에 할당.</li>
</ul></li>
</ul>
</section>
<section id="집단-간-설계-between-group-design" class="level2">
<h2 class="anchored" data-anchor-id="집단-간-설계-between-group-design">집단 간 설계 (between-group design)</h2>
<p>대표적인 설계 두 가지</p>
<ul>
<li>사후 검사 통제집단 설계 (posttest-only control group design)</li>
<li>사전-사후 검사 통제집단 설계 (pretest-posttest control group design)</li>
</ul>
<section id="사후-검사-통제집단-설계" class="level3">
<h3 class="anchored" data-anchor-id="사후-검사-통제집단-설계">사후 검사 통제집단 설계</h3>
<p>무선화 <span class="math inline">\(\begin{cases} A: ~~~~ T_X ~~~ \rightarrowtail ~~~~ Ob_{2a} \\ B: 통제집단 \rightarrowtail Ob_{2control} \end{cases}\)</span></p>
<p><strong>강점</strong></p>
<ul>
<li>내적타당도 높음
<ul>
<li>역사, 성숙, 도구화, 검사 효과, 회귀 등 통제됨</li>
<li>예를 들어, 극단적인 점수들이 있었다해도 두 집단에 동일하게 회귀할 것으로 기대.</li>
</ul></li>
<li>두 관찰치의 차이(<span class="math inline">\(Ob_{2a}\)</span> <span class="math inline">\(Ob_{2control}\)</span>) 는 처치(<span class="math inline">\(T_X\)</span>)의 효과로 귀인하는데 무리가 없음.</li>
<li>사전검사가 없다는 것은
<ul>
<li>집단 A에서 실제로 처치에 따른 변화가 일어났다고 정확히 주장하기는 어려움.</li>
<li>단지, 처지를 받지 않았을 때 대비해서 차이가 있다고 주장할 뿐임.</li>
</ul></li>
<li>사전 검사가 없다는 것의 큰 장점은
<ul>
<li>참여자에게 덜 부담을 주며,</li>
<li>연구자에게도 시간과 노력을 줄여 주며,</li>
<li>사전, 사후 검사값을 참여자별로 매치할 필요가 없으므로 <strong>익명</strong>으로 실시할 수 있음.</li>
<li>사전 검사 민감화를 제거할 수 있음.</li>
</ul></li>
</ul>
<p><strong>단점</strong></p>
<ul>
<li>사전 검사가 없으므로,
<ul>
<li>처치 이전의 참여자들의 동등성을 확인할 수 없음.</li>
<li>또한, 참여자들의 기능 수준 등을 파악할 수 없음.</li>
</ul></li>
<li>선택(selection)과 처치의 상호작용이 발생할 수 있음.
<ul>
<li>예를 들어, 진로 계획 워크샵이 직업 경험이 많은 대학생에게만 효과적일 수 있음.</li>
<li>즉, 처치가 처지 집단의 일부 사람들에게만 효과가 있을 수 있음.</li>
<li>일종의 외적 타당도의 문제라고 볼 수 있음.</li>
<li>사전 검사가 있다면 각 참여자들의 변화를 파악할 수 있음.</li>
</ul></li>
<li>처치와 통제 집단을 동시에 측정하지 않는다면 역사(history)의 효과가 발생할 수 있음.</li>
</ul>
<p>연구 예시 (Silverman, 2013)</p>
<ul>
<li>정신과 입원 환자를 대상으로 음악 치료가 낙인에 미치는 효과를 검증</li>
<li>세 집단: 1) 음악 치료 집단, 2) 교육 집단, 3) 대기자 통제집단</li>
</ul>
<p><img src="images/Silverman-0.png" class="img-fluid" width="550"><br>
<img src="images/Silverman-1.png" class="img-fluid" width="450"><br>
<img src="images/Silverman-2.png" class="img-fluid" width="700"></p>
<p><img src="images/Silverman-3.png" class="img-fluid" width="450"></p>
</section>
<section id="사전-사후-검사-통제집단-설계" class="level3">
<h3 class="anchored" data-anchor-id="사전-사후-검사-통제집단-설계">사전-사후 검사 통제집단 설계</h3>
<p>무선화 <span class="math inline">\(\begin{cases} A: ~~~~ Ob_{1a} ~~~ \rightarrowtail ~~~~ T_X ~~~ \rightarrowtail ~~~~ Ob_{2a} \\ B: Ob_{1control} \rightarrowtail 통제집단 \rightarrowtail Ob_{2control} \end{cases}\)</span></p>
<p><strong>강점</strong></p>
<ul>
<li>이전 설계와 마찬가지로 내적타당도 높음</li>
<li>참여자가 사전, 사후 두번 측정되므로, 참여자 고유의 특성을 파악할 수 있음
<ul>
<li>한 개인을 반복 측정(repeated measures)하면, 그 측정치들 간의 dependency가 존재하여, 그 개인의 특성이 파악할 수 있음.</li>
<li>종속변수의 변량을 줄여, 통계적 검증력을 높일 수 있음.</li>
</ul></li>
</ul>
<p>  <img src="images/longitudinal-data.png" class="img-fluid" width="300"></p>
<ul>
<li>사전 검사를 통해 중도 탈락하는 참여자들에게 편향이 존재하는지 파악할 수 있음.
<ul>
<li>예를 들어, 불안에 대한 처치 효과를 보는데, 탈락한 참여자들의 불안 수준이 특별히 높은지 파악.</li>
</ul></li>
<li>참여자를 선별적으로 선발하는데 사용될 수 있음.
<ul>
<li>예를 들어, 중간 정도 우울을 보이는 참여자들만을 선발</li>
<li>만약, 처치가 우울 수준이 어느 정도 이상인 사람들에게만 효과가 있다면, 선발과정이 없다면, 효과가 거의 없는 것으로 나올 수 있음.</li>
</ul></li>
<li>사전 검사를 통해 참여자를 기술할 수 있음
<ul>
<li>예를 들어, 불안 수준의 정도에 대한 정보를 통해 일반화할 수 있는 범위를 파악할 수 있음.</li>
</ul></li>
<li>참여자 각각에 대해 사전-사후 검사를 통해 그 변화를 파악할 수 있음.
<ul>
<li>이는 어떤 이들에게 치료 효과가 큰지에 대한 정보를 제공할 수 있음.</li>
<li>추후 연구에서 중요한 자료로 활용될 수 있음.</li>
<li>참고로, 이 차이값(gain scores)을 통계적으로 분석할 때 유의할 것; 예. 시작시 높은 값을 보인 참여자의 차이(gain scores)가 더 클 수 있음.</li>
</ul></li>
<li>사전 검사를 통해, 무선 할당된 집단 간의 큰 차이가 없음을 확인할 수 있음.
<ul>
<li>단, 정확한 기준은 없음.</li>
<li>모든 특성을 다 조사한 것이 아니므로, 여전히 측정하지 않은 측면에서 다를 수 있음.</li>
<li>짝짓기 절차(matching procedure)를 통해 중요한 부분에서 더 동등하게 할당할 수 있음.</li>
</ul></li>
</ul>
<p><strong>단점</strong></p>
<ul>
<li>사전 검사는 처치에 민감하게 만들어, 반복된 측정치에 변화을 만들 수 있음.
<ul>
<li>예를 들어, 데이트 폭력에 대한 워크샵의 효과가 사전 검사에서 질문지로 인해 그 효과가 증폭될 수 있음.</li>
<li>처치 전에 깊이 생각해 보거나 다른 방식으로 생각하도록 유도될 수 있음.</li>
</ul></li>
<li>무선 할당된 두 집단 모두에서 동등하게 나타날 수 있으므로, 내적타당도보다는 외적타당도의 문제로 볼 수 있음.
<ul>
<li>즉, 워크샵의 효과가 사전 검사 없이도 나타나는가?</li>
</ul></li>
</ul>
<p>연구 예시 (Shechtman &amp; Pastor, 2005)</p>
<ul>
<li>이스라엘의 학습장애 아동 센터에서 초등생 200명(2-6학년)을 대상으로 두 가지 유형의 집단 처치의 효과성을 검증</li>
<li>각 학년별로 그룹핑을 한 후 5개 집단으로 무선 할당</li>
<li>AA, AA + CBTG, AA + HGT, CBTG, HGT</li>
<li>조건 1: cognitive–behavioral treatment groups (CBTG)<br>
조건 2: humanistic group therapy (HGT)<br>
조건 3: academic assistance (AA)</li>
</ul>
<p><img src="images/Shechtman.png" class="img-fluid" width="650"></p>
<p>Abstract</p>
<blockquote class="blockquote">
<p>The authors of this study examined the outcomes and processes of 2 types of group treatment— cognitive–behavioral treatment groups (CBTG) and humanistic group therapy (HGT)—offered to 200 elementary schoolchildren in a center for students with learning disabilities in Israel. Results indicated that the addition of either type of group treatment to individual academic assistance was more effective than the latter alone on most measures. In fact, on the majority of measures, group treatment without academic assistance was more effective than just individual assistance. Finally, HGT was more effective than CBTG on most measures. Most of the outcomes were sustained at follow-up, and some even increased from termination to follow-up, <strong>although effect sizes were quite low.</strong> Process measures included the Client Behavior System and the therapist Helping Skills System, which were measured at 5 points in time. Differences between the 2 treatment types were revealed on both process measures, including differences in the growth curve of these behaviors.</p>
</blockquote>
</section>
<section id="통제집단의-사용" class="level3">
<h3 class="anchored" data-anchor-id="통제집단의-사용">통제집단의 사용</h3>
<p>통제집단: 아무런 개입/처치도 받지 않는 집단</p>
<p>통제집단을 사용하기 어려운 경우</p>
<ul>
<li>처치를 필요로 하는 참여자들</li>
<li>효과가 있는 것으로 아는 참여자들</li>
<li>자살 위험성이 있는 내담자들</li>
</ul>
<p>통제집단이 필요하지 않은 경우</p>
<ul>
<li>두 처치의 비교가 목적인 경우</li>
<li>통제집단을 사용하면 추가적 정보를 획득할 수는 있음</li>
</ul>
<p>개입이 없는 통제집단을 설정해도 종종 대안적 개입이나 다른 곳에서 도움을 얻기도 함.</p>
<p>상담연구에서는</p>
<ul>
<li>주로, 개입이 전혀 없는 통제집단보다는 <strong>대기자 통제집단(waiting-list control group)</strong>을 사용함.</li>
<li>대기자 집단은 처치 집단의 사후 검사 후 처치가 실행됨.</li>
<li>단점은 대기자 집단의 추수(follow-up) 연구가 어려움; 대기자 집단이 처치에 들어가므로.</li>
</ul>
<p><strong>위약 통제집단 (placebo control group)</strong></p>
<ul>
<li>그들은 제대로 된 처치를 받고 있다고 믿으나,</li>
<li>그 처치는 구체적이지 않고 효과가 없는 것으로 수행됨.</li>
<li>예를 들어, 적극적인 집단상담과 대비해 단순한 토론 집단으로 설정.</li>
<li>내담자의 기대, 주의, 그 외에 효과로부터 처치의 효과를 분리할 수 있음.</li>
</ul>
<p><strong>짝지어진 통제집단 (matched control group)</strong></p>
<ul>
<li>짝짓기를 통해 참여자들이 처치 집단과 통제 집단에 중요한 부분에서 동등하게 할당됨.</li>
<li>예를 들어, 수감자를 대상으로 한 취업 중심 집단상담 개입의 효과를 보는데,
<ul>
<li>나이와 출소일이 상담 개입결과에 영향을 미칠 것으로 예상하여,</li>
<li>나이와 출소일 각각에 대해 동일한 참여자를 묶은 후, 무선 할당</li>
</ul></li>
<li>예를 들어, 내담자의 기독교에 대한 언급에 대한 상담자의 반응이 상담에 영향을 줄 것이라고 예상하여,
<ul>
<li>기독교에 대한 믿음을 측정하는 척도를 이용해 동일한 점수의 참여자들을 묶은 후, 3개의 집단에 무선 할당</li>
<li>3개의 집단은 기독교에 대한 태도에 대해 동일한 점수를 지니게 됨.</li>
</ul></li>
</ul>
</section>
<section id="요인-설계-factorial-design" class="level3">
<h3 class="anchored" data-anchor-id="요인-설계-factorial-design">요인 설계 (factorial design)</h3>
<p>두 개 이상의 독립변수들의 상호작용 효과를 파악하기 위해 사용됨.</p>
<p>예를 들어, 고등학생을 대상으로 비교 문화 인식(cross-cultural awareness)을 증진하는 두 가지 개입의 효과를 검증하는데,</p>
<ul>
<li>두 가지 처치 집단 + 통제 집단 (3가지 수준)</li>
<li>성별에 따라 변화는가? (2가지 수준)</li>
</ul>
<div class="quarto-layout-panel" data-layout="[35, 3, 62]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 35.0%;justify-content: center;">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">T1</th>
<th style="text-align: center;">T2</th>
<th style="text-align: center;">통제집단</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">남학생</td>
<td style="text-align: center;">20</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">여학생</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">15</td>
<td style="text-align: center;">5</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 3.0%;justify-content: flex-start;">
<p><br></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 62.0%;justify-content: center;">
<p><img src="images/factorial-design.png" class="img-fluid" width="400"></p>
</div>
</div>
</div>
<p><strong>강점</strong></p>
<ul>
<li>상호작용 효과(interaction effect)를 파악할 수 있음.
<ul>
<li>두 가지 개입이 성별에 따라 동일한 효과를 보이지 않음</li>
<li>남학생에게는 T1이 더 효과적이고, 여학생에게는 T2가 더 효과적임.</li>
</ul></li>
<li>참여자의 성별, 개입의 유형, 내담자의 나이, 내담자의 문제해결 양식과 같이 처치가 작동할 수 있는 조건들에 대한 답을 제공</li>
<li>상호작용과 함께, 주 효과(main effect)라고 불리는 각 독립변수의 효과를 파악할 수 있음.
<ul>
<li>비교 문화 인식을 증진하는 프로그램은 효과적인가?</li>
</ul></li>
</ul>
<p>상호작용이 없는 경우</p>
<p><img src="images/factorial-design2.png" class="img-fluid" width="400"></p>
<p><strong>단점</strong></p>
<ul>
<li>변수가 추가됨으로써 모형이 복잡해짐.</li>
<li>3개 변수 간의 상호작용만 해도 해석 및 분석이 어려워짐
<ul>
<li>A, B, C 독립변수에 대해서 A, B, C 각각의 주효과와 AxB, AxC, BxC, AxBxC 상호작용 효과를 파악해야 함.</li>
</ul></li>
<li>통계적 검증력도 낮아짐.</li>
<li>더 많은 표본이 필요함.</li>
</ul>
<p>연구 예시 (Merrill, Reid, Carey, &amp; Carey, 2014)</p>
<ul>
<li>알콜 사용을 줄이는데 “단기 동기적 개입”(처치 vs.&nbsp;통제)의 효과성을 “성별”과 “우울 수준”에 따라 비교</li>
<li>여성의 경우
<ul>
<li>우울 수준이 낮은 집단은 통제집단에 비해 알코올 사용이 줄어듦</li>
<li>우울 수준이 높은 집단은 통제집단과 차이가 없었음. 즉, 효과가 없었음.</li>
</ul></li>
<li>남성의 경우
<ul>
<li>우울 수준이 낮은 집단은 통제집단과 차이가 없었음. 즉, 효과가 없었음.</li>
<li>우울 수준이 높은 집단은 통제집단에 비해 알코올 사용이 줄어듦</li>
</ul></li>
</ul>
</section>
</section>
<section id="참여자-내-설계-within-subject-design" class="level2">
<h2 class="anchored" data-anchor-id="참여자-내-설계-within-subject-design">참여자 내 설계 (within-subject design)</h2>
<ul>
<li>참여자는 모든 처치 조건에 노출됨.</li>
<li>처치의 순서가 무선 할당됨.</li>
<li>참여자가 자기 자신의 통제(control) 역할을 하게 됨.</li>
<li>Repeated measures design이라고도 함.</li>
</ul>
<section id="교차-설계-crossover-design" class="level3">
<h3 class="anchored" data-anchor-id="교차-설계-crossover-design">교차 설계 (crossover design)</h3>
<p><span class="math inline">\(~~ Ob_{1} ~~ \rightarrowtail ~~ T_{X1} ~~ \rightarrowtail ~~ Ob_{2} ~~ \rightarrowtail ~~ T_{X2} ~~ \rightarrowtail ~~ Ob_{3} ~~\)</span></p>
<p>예를 들어, 진로 상담 내담자의 “진로 성숙도”에 미치는 두 가지 처치, 1) 스트롱 흥미 검사 해석, 2) 직업 가계도(work genograms)의 효과를 비교하고자 한다면,</p>
<ul>
<li>측정(<span class="math inline">\(Ob\)</span>): 강점 자기효능감 척도</li>
<li>첫 번째 처치(<span class="math inline">\(T_{X1}\)</span>): 직업 가계도</li>
<li>두 번째 처치(<span class="math inline">\(T_{X2}\)</span>): 스트롱 흥미 검사 해석</li>
</ul>
<p>만약, 첫 번째 변화(<span class="math inline">\(Ob_{2}\)</span> - <span class="math inline">\(Ob_{1}\)</span>)가 두번째 변화(<span class="math inline">\(Ob_{3}\)</span> - <span class="math inline">\(Ob_{2}\)</span>)보다 크다면,</p>
<ul>
<li>직업 가계도(<span class="math inline">\(T_{X1}\)</span>)의 효과가 스트롱 흥미 검사 해석(<span class="math inline">\(T_{X2}\)</span>)보다 크다고 볼 수 있는가???</li>
<li>내적타당도를 위협하는 여러 요인들이 존재</li>
<li>예를 들어, 역사, 성숙, 순서 효과, 연쇄 효과 등
<ul>
<li>순서 효과: 가계도 처치가 두번째로 처지될 때 더 효과적일 수 있음.</li>
<li>연쇄 효과: 가계도 처치는 스트롱 흥미 검사 해석 뒤에 추가적으로 제시되어야만 효과가 있을 수 있음. 즉 처지 간의 상호작용</li>
</ul></li>
</ul>
</section>
<section id="순서-균형-교차-설계" class="level3">
<h3 class="anchored" data-anchor-id="순서-균형-교차-설계">순서 균형 교차 설계</h3>
<p>순서 균형(counterbalancing)을 통해 내적타당도의 위협을 통제</p>
<p>무선화 <span class="math inline">\(\begin{cases} ~~ Ob_{1a} ~~ \rightarrowtail ~~ T_{X1} ~~ \rightarrowtail ~~ Ob_{2a} ~~ \rightarrowtail ~~ T_{X2} ~~ \rightarrowtail ~~ Ob_{3a} ~~ \\ ~~ Ob_{1b} ~~ \rightarrowtail ~~ T_{X2} ~~ \rightarrowtail ~~ Ob_{2b} ~~ \rightarrowtail ~~ T_{X1} ~~ \rightarrowtail ~~ Ob_{3b} ~~ \end{cases}\)</span></p>
<ul>
<li><span class="math inline">\(T_{X1}\)</span>의 효과가 첫번째로 실시되었을 때와 두번째로 실시되었을 때 동일한지 테스트할 수 있음.</li>
<li><span class="math inline">\(T_{X2}\)</span>의 효과도 마찬가지</li>
<li>순서효과가 존재한다해도 두 처치에 “균형을 맞췄다”고 할 수 있어 그 효과가 어느 정도 통제되었다고 볼 수 있음.</li>
</ul>
<p>연구 예시 (Piet, Hougaard, Hecksher, &amp; Rosenberg, 2010)</p>
<ul>
<li>사회공포증이 있는 대상으로 “집단 마음챙김 기반 인지치료”와 “집단 인지행동치료”의 효과를 비교</li>
</ul>
<p><img src="images/Piet-1.png" class="img-fluid" width="810"><br>
<img src="images/Piet-2.png" class="img-fluid" width="900"><br>
<img src="images/Piet-3.png" class="img-fluid" width="500"></p>
</section>
<section id="강점과-한계점" class="level3">
<h3 class="anchored" data-anchor-id="강점과-한계점">강점과 한계점</h3>
<p><strong>실험 통제</strong></p>
<ul>
<li>순서 균형 교차 설계를 통해 내적타당도의 위협이 낮음.</li>
<li>각 참여자가 반복 측정되며, 자신의 통제로 사용되므로, 개인 오차 변량이 감소함.</li>
</ul>
<p><strong>통제적 검증력</strong></p>
<ul>
<li>모든 참여자가 독립변수의 모든 수준을 경험하므로,</li>
<li>표본의 수가 그 만큼 배가 됨.</li>
<li>통계적으로는 집단 간 설계에 비해 절반 수준의 표본으로 비슷한 검증력을 갖음.</li>
</ul>
<p><strong>시간</strong></p>
<ul>
<li>연구 시간이 오래 걸림.</li>
<li>가령, 내담자 24명을 대상으로
<ul>
<li>집단 간 설계: 12명씩 2개 집단으로 무선 할당되어 동시에 처치가 진행</li>
<li>참여자 내 설계: 12명이 2개 집단으로 할당된 후 각각 2번의 처치를 받아야 함으로 2배의 시간이 걸림.</li>
</ul></li>
</ul>
<p><strong>순서 효과</strong></p>
<ul>
<li>순서 효과를 평준화했지만, 순서 효과가 얼마나 어떻게 있는지는 알 수 없음.</li>
</ul>
<p><strong>변수의 제한</strong></p>
<p>양립 불가능한 처치가 존재</p>
<ul>
<li>예를 들어, desensitization와 flooding을 순차적으로 처치하기 어려움</li>
<li>여러 처치가 서로에게 주는 영향에 대해 주의깊게 고려해야 함.</li>
<li>또는, 성격, 인구학적, 신체적 특징들은 변화시킬 수 없음
<ul>
<li>성별을 바꿀 수 없음.</li>
<li>시골 출신이자 도시 출신 일 수 없음.</li>
</ul></li>
</ul>
<p>이런 설계의 한계에도 창의적 설계를 통해 유용한 연구를 만들어 낼 수 있음을 기억할 것!</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This work © 2024 by Sungkyun Cho is licensed under CC BY-NC-SA 4.0</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>